<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at Oct 15, 2012
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ninja Web Framework | Full stack web framework for Java. Fast and productive. Built on Maven - runs on servlet containers. - </title>
    <link rel="stylesheet" href="../css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido.min.js"></script>

    
    <meta name="Date-Revision-yyyymmdd" content="20121015" />
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/reyez/ninja">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="../.." id="bannerLeft">
                <h2>Ninja web framework</h2>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-10-15</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.0.7-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3></h3>
                  <ul>
                  <li class="none">
                          <a href="../index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="../introduction.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="../team.html" title="Team">Team</a>
            </li>
          </ul>
                        <h3>Learn</h3>
                  <ul>
                  <li class="none">
                          <a href="../documentation/getting_started.html" title="Getting started">Getting started</a>
            </li>
                  <li class="none">
                          <a href="../documentation/controller.html" title="Controller">Controller</a>
            </li>
                  <li class="none">
            <strong>Configuration</strong>
          </li>
                  <li class="none">
                          <a href="../documentation/html_templating.html" title="Html templating">Html templating</a>
            </li>
                  <li class="none">
                          <a href="../documentation/injection.html" title="Injection">Injection</a>
            </li>
                  <li class="none">
                          <a href="../documentation/filter.html" title="Filter">Filter</a>
            </li>
                  <li class="none">
                          <a href="../documentation/internationalization.html" title="Internationalization">Internationalization</a>
            </li>
                  <li class="none">
                          <a href="../documentation/scheduler.html" title="Scheduler">Scheduler</a>
            </li>
                  <li class="none">
                          <a href="../documentation/lifecycle.html" title="Lifecycle">Lifecycle</a>
            </li>
                  <li class="none">
                          <a href="../documentation/validation.html" title="Validation">Validation</a>
            </li>
                  <li class="none">
                          <a href="../documentation/debugging.html" title="Debugging">Debugging</a>
            </li>
                  <li class="none">
                          <a href="../documentation/deployment.html" title="Deployment">Deployment</a>
            </li>
                  <li class="none">
                          <a href="../apidocs/index.html" title="API">API</a>
            </li>
          </ul>
                        <h3>Get involved</h3>
                  <ul>
                  <li class="none">
                          <a href="https://groups.google.com/d/forum/ninja-framework" class="externalLink" title="Mailing list">Mailing list</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/reyez/ninja" class="externalLink" title="Source code">Source code</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/reyez/ninja/issues" class="externalLink" title="Bug tracker">Bug tracker</a>
            </li>
                  <li class="none">
                          <a href="../security.html" title="Security issues">Security issues</a>
            </li>
          </ul>
                        <h3>Develop</h3>
                  <ul>
                  <li class="none">
                          <a href="../developer/changelog.html" title="Changelog">Changelog</a>
            </li>
                  <li class="none">
                          <a href="../developer/roadmap.html" title="Roadmap">Roadmap</a>
            </li>
                  <li class="none">
                          <a href="../developer/getting_started.html" title="How to contribute">How to contribute</a>
            </li>
          </ul>
                      
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://www.ninjaframework.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Configure your application</h1><h2>Introduction to application.conf</h2><p>By convention Ninja will look for a configuration file at &ldquo;conf/application.conf&rdquo;.</p><p>application.conf is a simple properties file with keys and values. &ldquo;#&rdquo; is a comment.</p>
<pre class="prettyprint">
    # an arbitrary content
    application.name=Ninja demo application
    application.cookie.prefix=NINJA
</pre><p>Like any other Ninja file it is encoded in Utf-8. Make sure your editor reads and
saves the file in the correct encoding. </p><p>Ninja properties can do much more than traditional Java properties. For instance
it is possible to reference other properties by their name and combine them.</p>
<pre class="prettyprint">
    serverName=myserver.com
    serverPort=80
    fullServerName=${serverName}:${serverPort}
</pre><p>fullServerName references the previously set values of the keys and will return myserver.com:80.</p><p>Inside your application there are two basic ways to access the properties. </p><p>First way is to use NinjaProperties.get(&hellip;). You have to inject NinjaProperties first, then you
can use all sorts of functions to retrieve properties.</p>
<pre class="prettyprint">
    @Inject 
    NinjaProperties ninjaProperties;
    
    public void myMethod() {
        String value = ninjaProperties.get("fullServerName")
        ... do even more...
    }
</pre><p>The second way to get properties is to inject them via @Named(&ldquo;fullServerName&rdquo;).</p>
<pre class="prettyprint">
    /** An arbitrary constructor */
    @Inject
    ApplicationController(@Named("fullServerName") String fullServerName) {
        ... do something ...
    }
</pre><p>By the way. And this is really important: Properties are read and managed by the excellent Apache Configurations library. Please
refer to <a href="http://commons.apache.org/configuration/">their manual</a> for even more information on advanced usage.</p><h2>Configuring the modes</h2><p>Ninja uses three predefined modes (test, dev and prod as defined in NinjaConstant.java).
By default Ninja will use the <strong>dev</strong> mode.</p><p>You can set the
modes by setting a Java system property called &ldquo;ninja.mode&rdquo;.</p>
<pre class="prettyprint">
    On the command line:
    > java -Dninja.mode=dev
    
    Or programmatically:
    System.setProperty(NinjaConstant.MODE_KEY, NinjaConstant.MODE_DEV)
</pre><p>Make sure that you set the system property early so that Ninja knows its mode from the very beginning.</p><p>These modes are handy if you want to define different properties for different environments.
You may want to use database1 when running tests and database2 when developing and database3
when running in production.</p><p>Ninja supports that use case by using a mode prefix prior to your property key.</p>
<pre class="prettyprint">
    database.name=database_production   # will be used when no mode is set (or prod)
    %dev.database.name=database_test    # will be used when running in dev mode
    %test.database.name=database_test   # will be used when running in test mode
</pre><p>The convention is to use a &ldquo;%&rdquo; and the name of the mode followed by &ldquo;.&rdquo;.</p><h2>External configuration for deployment</h2><p>When running on a server you may want to use a completely different configuration.
This can be accomplished by setting a Java system property:</p>
<pre class="prettyprint">
    java -Dninja.external.configuration=conf/production.conf
</pre><p>This tells Ninja to load conf/production.conf. It will also load conf/application.conf as usual,
but values in conf/production.conf will overwrite values in conf/application.conf.</p><p>That way you can manage a production configuration separately from
your project. You may want to do this for instance when your server secret should only
be available to a certain set of people and not the world. Or if your cloud hoster uses
a completely different configuration from prod,test or dev.</p><p>Ninja tries to load the file specified in &ldquo;ninja.external.configuration&rdquo; from several locations:</p><p>It tries to load in the following order:</p>
<ul>
  <li>From a URL.</li><li>From a absolute file path.</li><li>From a relative file path.</li><li>From the user&rsquo;s home dir.</li><li>From the classpath.</li>
</ul><p>Ninja uses the excellent Apache Configurations library to do the loading. Please refer to
<a href="http://commons.apache.org/configuration/userguide/howto_filebased.html#Loading">their manual</a> for more information.</p>
                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
